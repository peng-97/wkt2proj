/*!
 * wkt2proj v0.1.2
 * LICENSE : MIT
  AUTHOR  : pengz 
* */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).wkt2proj=t()}(this,(function(){"use strict";class e{ellipsoids_list=[{name:"GRS80",data:[6378137,298.257222101]},{name:"airy",data:[6377563.396,6356256.91]},{name:"bessel",data:[6377397.155,299.1528128]},{name:"clrk66",data:[6378206.4,6356583.8]},{name:"intl",data:[6378388,297]},{name:"WGS60",data:[6378165,298.3]},{name:"WGS66",data:[6378145,298.25]},{name:"WGS72",data:[6378135,298.26]},{name:"WGS84",data:[6378137,298.257223563]},{name:"sphere",data:[6370997,6370997]}];constructor(e){let t=Object.values(e)[0];this.name=t[0],this.a=t[1],this.rf=t[2]}to_proj4(){if(this.ellipsoids_list.find((e=>e.name.toLowerCase()===this.name.toLowerCase())))return" +ellps="+this.name;let e=this.ellipsoids_list.find((e=>e.data[0]==this.a&&e.data[1]==this.rf));return e?" +ellps="+e.name:" +a="+this.a+" +rf="+this.rf}}class t{datum_list=[{proj4:"WGS84",ogc_wkt:"WGS_1984",esri_wkt:"D_WGS_1984"}];constructor(t){let r=Object.values(t)[0];this.name=r[0],this.ellipsoid=new e(r[1])}to_proj4(){return this.ellipsoid.to_proj4()}}class r{prime_list=["greenwich","lisbon","paris","bogota","madrid","rome","bern","jakarta","ferro","brussels","stockholm","athens","oslo"];constructor(e){let t=Object.values(e)[0];this.prime_name=t[0],this.prime_value=t[1]}to_proj4(){let e=" +pm=";return this.prime_list.find((e=>e.toLowerCase()===this.prime_name.toLowerCase()))?e+=this.prime_name:e+=this.prime_value,e}}class a{constructor(e){let a=Object.values(e)[0];this.name=a[0],this.datum=new t(a[1]),this.prime_mer=new r(a[2])}_get_geo_proj4(){return this.datum.to_proj4()+this.prime_mer.to_proj4()}to_proj4(e=!1){let t=this._get_geo_proj4();return e?t:"+proj=longlat"+t}}class i{proj_param_list=[{False_Easting:"x_0"},{False_Northing:"y_0"},{Central_Meridian:"lon_0"},{Latitude_Of_Origin:"lat_0"},{Latitude_Of_Center:"lat_0"},{Standard_Parallel_1:"lat_ts"},{Standard_Parallel_2:"lat_2"},{Latitude_Of_1st_Point:"lat_1"},{Latitude_Of_2nd_Point:"lat_2"},{Longitude_Of_1st_Point:"lon_1"},{Longitude_Of_2nd_Point:"lon_2"},{Scale_Factor:"k"},{Azimuth:"alpha"},{Longitude_Of_Center:"lonc"}];constructor(e){let t=Object.values(e)[0];this.param_name=t[0],this.param_value=t[1]}_get_proj_param(){for(let e=0;e<this.proj_param_list.length;e++){let t=this.proj_param_list[e];if(Object.keys(t)[0].toLowerCase()===this.param_name.toLowerCase())return t[Object.keys(t)[0]]}return""}to_proj4(){return" +"+this._get_proj_param()+"="+this.param_value}}class o{constructor(e){this.unit_name=Object.values(e)[0][0]}unit_list=[{Kilometer:"km"},{Meter:"m"},{Decimeter:"dm"},{Centimeter:"cm"},{Millimeter:"mm"},{Foot_US:"us-ft"},{Foot_Gold_Coast:"us-ft"},{Degree:""}];_get_unit(){for(let e=0;e<this.unit_list.length;e++){let t=this.unit_list[e];if(Object.keys(t)[0].toLowerCase()===this.unit_name.toLowerCase())return t[Object.keys(t)[0]]}return"Unknown"}to_proj4(){return" +units="+this._get_unit()}}class s{proj_aliases_list=[{Aitoff:"aitoff"},{Albers:"aea"},{Azimuthal_Equidistant:"aeqd"},{Bonne:"bonne"},{Cassini:"cass"},{Chamberlin_Trimetric:"chamb"},{Craster_Parabolic:"crast"},{Cylindrical_Equal_Area:"cea"},{Eckert_I:"eck1"},{Eckert_II:"eck2"},{Eckert_III:"eck3"},{Eckert_IV:"eck4"},{Eckert_V:"eck5"},{Eckert_VI:"eck6"},{Equidistant_Conic:"eqdc"},{Equidistant_Cylindrical:"eqc"},{Plate_Carree:"eqc"},{Gall_Stereographic:"gall"},{Gauss_Kruger:"tmerc"},{Gnomonic:"gnom"},{Goode_Homolosine:"goode"},{Hammer_Aitoff:"hammer"},{Hotine_Oblique_Mercator_Azimuth_Center:"merc"},{Krovak:"krovak"},{Lambert_Azimuthal_Equal_Area:"laea"},{Lambert_Conformal_Conic:"lcc"},{Loximuthal:"loxim"},{Mercator:"merc"},{Miller_Cylindrical:"mill"},{Mollweide:"moll"},{New_Zealand_Map_Grid:"nzmg"},{Orthographic:"ortho"},{Perspectice:"pconic"},{Polyconic:"poly"},{Quartic_Authalic:"qua_aut"},{Robinson:"robin"},{Sinusoidal:"sinu"},{Stereographic:"stere"},{Stereographic_South_Pole:"stere"},{Double_Stereographic:"sterea"},{Transverse_Mercator:"tmerc"},{Two_Point_Equidistant:"tpeqd"},{Universal_Polar_Stereographic:"ups"},{Universal_Transverse_Mercator:"utm"},{Van_der_Grinten_I:"vandg"},{Winkel_I:"wink1"},{Winkel_II:"wink2"},{Winkel_Tripel:"wintri"},{Hotine_Oblique_Mercator_Azimuth_Natural_Origin:"merc"},{Hotine_Oblique_Mercator_Two_Point_Natural_Origin:"tpeqd"},{Mercator_Auxiliary_Sphere:"merc"},{Stereographic_North_Pole:"stere"},{Transverse_Mercator_Complex:"tmerc"}];constructor(e){this.proj_name=Object.values(e)[0][0]}_get_proj_name(){for(let e=0;e<this.proj_aliases_list.length;e++){let t=this.proj_aliases_list[e];if(Object.keys(t)[0].toLowerCase()===this.proj_name.toLowerCase())return t[Object.keys(t)[0]]}return""}to_proj4(){return this._get_proj_name()}}class n{constructor(e){let t=Object.values(e)[0];this.name=t[0],this.params=[];for(let e=0;e<t.length;e++)if(t[e]instanceof Object){switch(Object.keys(t[e])[0].toUpperCase()){case"GEOGCS":this.geogcs=new a(t[e]);break;case"PARAMETER":this.params.push(new i(t[e]));break;case"UNIT":this.unit=new o(t[e]);break;case"PROJECTION":this.proj=new s(t[e])}}}to_proj4(){let e=this.params.map((e=>e.to_proj4())).join(" ");return"+proj="+this.proj.to_proj4()+this.geogcs.to_proj4(!0)+e+this.unit.to_proj4()}}class _{constructor(e){this.cs="PROJCS"===Object.keys(e)[0].toUpperCase()?new n(e):new a(e)}to_proj4(){return this.cs.to_proj4()+" +no_defs +type=crs"}}function l(e,t=0){let r=[],a="";for(let i=t;i<e.length;i++){let t=e[i];if("["==t){let t={},o=l(e,i+1);t[a]=o[0],r.push(t),i=o[1],a=""}else if(","==t)a&&(r.push(a),a="");else{if("]"==t)return a&&r.push(a),[r,i];'"'!=t&&"'"!=t&&" "!=t&&"\n"!=t&&(a+=t)}}return r[0]}return{to_proj4:function(e){let t=l(e);return new _(t).to_proj4()}}}));
